Задача «Сумма к оплате»

Дан массив цен за список продуктов, купленных в магазине. 
Товары с одинаковой стоимостью считаются одинаковыми.

Требуется посчитать, сколько потребуется заплатить суммарно за весь 
поход в магазин при условии, что в магазине проводится акция — 
«купи три одинаковых товара и заплати только за два».


Решение
План решения данной задачи можно сформулировать следующим образом:

Первым делом требуется посчитать количество товаров, имеющих одинаковую цену — 
обозначим эту величину для некоторой стоимости cost за am_{cost}. 
Сделать это можно несколькими способами, самым простым из них является складывание 
всех цен товаров в структуру данных, предоставляющую быстрое 
изменение элемента и последующий проход по полученному контейнеру.

Примеры такого контейнера в разных языках программирования
	Map в Kotlin, Dictionary в Swift, Dictionary в C#.


Также есть решение, требующее только константную дополнительную память и 
работающее быстрее на практике — отсортировать массив любой сортировкой и 
затем разбить получившийся массив на блоки одинаковых элементов линейным проходом.


Затем нам просто требуется посчитать 

\sum\limits_{cost = 1}^{max_{cost}} \left(am_{cost} - \cfrac{am_{cost}}{3}\right) \cdot cost, 
это и есть ответ.

Время работы и память

Асимптотика такого решения — O(n_{sum} \cdot \log{n_{sum}}) где n_{sum} — 
сумма количество купленных товаров по всем тестам, дополнительной памяти 
требуется линейное или константное количество в зависимости от реализации.